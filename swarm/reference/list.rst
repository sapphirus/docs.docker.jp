.. -*- coding: utf-8 -*-
.. URL: https://docs.docker.com/swarm/reference/list/
.. SOURCE: https://github.com/docker/swarm/blob/master/docs/reference/list.md
   doc version: 1.11
      https://github.com/docker/swarm/commits/master/docs/reference/list.md
.. check date: 2016/04/29
.. Commits on Feb 25, 2016 e8fad3d657f23aea08b3d03eab422ae89cfa3442
.. -------------------------------------------------------------------

.. list — List the nodes in a cluster

.. _list-list-the-nodes-in-a-cluster:

===================================================
list - クラスタ上のノード一覧
===================================================

.. Use list to display a list of the nodes in a cluster.

``list`` を使うとクラスタ上のノード一覧を表示します。

.. To list the nodes in a cluster, use the following syntax:

クラスタのノードを表示するには、次の構文を使います。

.. code-block:: bash

   docker run swarm list [OPTIONS] <discovery>

.. The following examples show a few different syntaxes for the <discovery> argument:

次の例は ``<discovery>`` 引数を使う構文の例です。

**etcd:**

.. code-block:: bash

   swarm list etcd://<etcd_addr1>,<etcd_addr2>/<optional path prefix> <node_ip:port>

**Consul:**


.. code-block:: bash

   swarm list consul://<consul_addr>/<optional path prefix> <node_ip:port>

**ZooKeeper:**

.. code-block:: bash

   swarm list zk://<zookeeper_addr1>,<zookeeper_addr2>/<optional path prefix> <node_ip:port>

.. Arguments

引数
==========

.. The list command has only one argument:

list コマンドは引数が１つだけあります。

.. <discovery> — Discovery backend

<discovery> - ディスカバリ・バックエンド
----------------------------------------

.. When you use the list command, use the <discovery> argument to specify one of the following discovery backends:

``list`` コマンドの使用時、 ``<discovery>`` 引数を使って以下のバックエンドを指定可能です。

* ``token://<token>``
* ``consul://<ip1>/<path>``
* ``etcd://<ip1>,<ip2>,<ip2>/<path>``
* ``file://<path/to/file>``
* ``zk://<ip1>,<ip2>/<path>``
* ``[nodes://]<iprange>,<iprange>``

.. Where:

それぞれの項目は：

..    <token> is a discovery token generated by Docker Hub’s hosted discovery service. To generate this discovery token, use the create command. > Warning: Docker Hub’s hosted discovery backend is not recommended for production use. It’s intended only for testing/development.

* ``<token>`` はDocker Hub のホステッド・ディスカバリ・サービスによって生成されるトークンです。このトークンを作成するには ``create`` コマンドを使います。

.. warning::

   Docker Hub のホステッド・ディスカバリ・バックエンドは、プロダクション環境での利用が推奨されていません。テストもしくは開発用での利用を想定しています。

..    ip1, ip2, ip3 are each the IP address and port numbers of a discovery backend node.

* ``ip1`` 、 ``ip2`` 、 ``ip3`` はディスカバリ・バックエンド用ノードの IP アドレスとポート番号を指定します。

..    path (optional) is a path to a key-value store on the discovery backend. When you use a single backend to service multiple clusters, you use paths to maintain separate key-value stores for each cluster.

* ``path`` （オプション）はディスカバリ・バックエンドのキーバリュー・ストアのパスを指定します。複数のクラスタを１つのバックエンドで管理する場合は、各クラスタごとにキーバリューのペアを記述する必要があります。

..     path/to/file is the path to a file that contains a static list of the Swarm managers and nodes that are members the cluster.

* ``path/to/file`` はSwarm マネージャとクラスタのメンバであるノード情報の一覧と、それぞれの静的な IP アドレスのリストを指定したファイルのパスを指定します。

..    iprange is an IP address or a range of IP addresses followed by a port number.


* ``iprange``  は特定のポート番号を利用する IP アドレスの範囲を指定します。

.. For example:

実行例：

..    A discovery token: token://0ac50ef75c9739f5bfeeaf00503d4e6e
    A Consul node: consul://172.30.0.165:8500

* ディスカバリ・トークン： ``token://0ac50ef75c9739f5bfeeaf00503d4e6e``
* Consul ノード： ``consul://172.30.0.165:8500``

.. The environment variable for <discovery> is $SWARM_DISCOVERY.

``<discovery>`` は環境変数 ``$SWARM_DISCOVERY`` でも指定可能です。

.. For more information and examples, see the Docker Swarm Discovery topic.

より詳しい情報やサンプルについては、 :doc:`/swarm/discovery` をご覧ください。

.. Options

オプション
====================

.. The list command has the following options:

``list`` コマンドには以下のオプションがあります。

.. --timeout — Timeout period

``--timeout`` - タイムアウト期間
---------------------------------

.. Use --timeout "<interval>s" to specify the timeout period, in seconds, to wait for the discovery backend to return the list. The default interval is 10s.

``--timeout="<期間>秒"`` はタイムアウトまでの感覚を秒で指定します。これは、ディスカバリ・バックエンドが一覧を返すまで待つ時間です。デフォルトの間隔は ``10s`` です。

.. --discovery-opt — Discovery options

``--discovery-opt`` - ディスカバリ・オプション
--------------------------------------------------

.. Use --discovery-opt <value> to discovery options, such as paths to the TLS files; the CA’s public key certificate, the certificate, and the private key of the distributed K/V store on a Consul or etcd discovery backend. You can enter multiple discovery options. For example:

ディスカバリ・オプションに ``--discovery-opt <value>`` を使い、 TLS 設定で使用するファイル（CA 公開鍵証明書、証明書）のパスや、分散キーバリュー・ストアのディスカバリ・バックエンドを指定します。このオプションは複数回利用可能です。例：

.. code-block:: bash

   --discovery-opt kv.cacertfile=/path/to/mycacert.pem \
   --discovery-opt kv.certfile=/path/to/mycert.pem \
   --discovery-opt kv.keyfile=/path/to/mykey.pem \

.. For more information, see Use TLS with distributed key/value discovery

より詳しい情報は :doc:`/swarm/discovery` をご覧ください。


.. seealso:: 

   list — List the nodes in a cluster
      https://docs.docker.com/swarm/reference/list/
